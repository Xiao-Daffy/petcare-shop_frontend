<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta content="width=device-width, initial-scale=1.0" name="viewport">
  
	<title>PetCare Shop Admin</title>
	<meta content="" name="description">
	<meta content="" name="keywords">
  
	<!-- Favicons -->
	<link href="assets/img/favicon.png" rel="icon">
	<link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">
	<link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
	<link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
	<!-- Boxicons -->
	<link href='https://unpkg.com/boxicons@2.0.9/css/boxicons.min.css' rel='stylesheet'>
	<!-- My CSS -->
	  <!-- Vendor CSS Files -->
	  <link href="assets/vendor/aos/aos.css" rel="stylesheet">
	  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
	  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
	  <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
	  <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
	  <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">
	  <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">
	
	<link rel="stylesheet" href="assets/css/detail.css">
	
	<link rel="stylesheet" href="assets/css/dashbord_style.css">
	<!-- <link rel="stylesheet" href="assets/css/style.css"> -->
	<link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css">
	
</head>
<body>

	<div id="ownerBlock">

	<!-- SIDEBAR -->
	<section id="sidebar">
		<a href="#" class="brand">
		
			<span class="text">PetCare <span style="color: #f9b4b4;">Shop</span></span>
		</a>
		<ul class="side-menu top">
			<li class="active">
				<a :href="'dashboard.html?uid='+userId">
					<i class='bx bxs-dashboard' ></i>
					<span class="text">Dashboard</span>
				</a>
			</li>
			<li>
				<a :href="'owner_store_view.html?sid='+storeId">
					<i class='bx bxs-shopping-bag-alt' ></i>
					<span class="text">Pet Store</span>
				</a>
			</li>
			<li>
				<a :href="'owner_product_view.html?sid='+storeId">
					<i class='bx bxs-cookie'></i>
					<span class="text">Pet Product</span>
				</a>
			</li>
			<li>
				<a :href="'owner_service_view.html?sid='+storeId">
					<i class='bx bxs-donate-heart' ></i>
					<span class="text">Pet Service</span>
				</a>
			</li>
			<li>
				<a :href="'owner_reservation_view.html?sid='+storeId">
					<i class='bx bxs-calendar' ></i>
					<span class="text">Reserviation</span>
				</a>
			</li>

			<li>
				<a :href="'owner_ordering_view.html?sid='+storeId">
					<i class='bx bxs-check-square' ></i>
					<span class="text">Orderings</span>
				</a>
			</li>
			<li>
				<a :href="'owner_comment_view.html?sid='+storeId">
					<i class='bx bxs-comment' ></i>
					<span class="text">Comment</span>
				</a>
			</li>
			<li>
				<a :href="'owner_pet_view.html?sid='+storeId">
					<i class='bx bxs-ghost' ></i>
					<span class="text">Pet</span>
				</a>
			</li>
			<li>
				<a href="#">
					<i class='bx bxs-log-out-circle' ></i>
					<span class="text" @click="logoutRequest">Logout</span>
				</a>
			</li>

		</ul>


	</section>
	<!-- SIDEBAR -->



	<!-- CONTENT -->
	<section id="content">
		<!-- NAVBAR -->
		<nav>
			<i class='bx bx-menu' ></i>
	
			<form action="#">
				<!-- <div class="form-input">
					<input type="search" placeholder="Search...">
					<button type="submit" class="search-btn"><i class='bx bx-search'></i></button>
				</div> -->
			</form>
			<input type="checkbox" id="switch-mode" hidden>
			<label for="switch-mode" class="switch-mode"></label>
			<a :href="'owner_notification_view.html?sid='+storeId" class="notification">
				<i class='bx bxs-bell' ></i>
				<span class="num">+</span>
			</a>
			<a href="#" class="profile">
				<img src="assets/img/cat1.jpg">
			</a>
		</nav>
	
		<!-- NAVBAR -->

		<!-- MAIN -->
		<main>
		<!-- Button trigger modal -->
 
				<h2>Order Detail</h2>
		
				<!-- PRODUCT LIST -->

			   <!-- ======= Portfolio Details Section ======= -->
			   <section id="portfolio-details" class="portfolio-details">
				<div class="container-fluid">
		  
				  <div class="container">
					<!-- Title -->
					<div class="d-flex justify-content-between align-items-center py-3">
					  <h2 class="h5 mb-0"><a href="#" class="text-muted"></a> Order {{orderInfo.orderId}}</h2>
					</div>
				  
					<!-- Main content -->
					<div class="row">
					  <div class="col-lg-8">
						<!-- Details -->
						<div class="card mb-4">
						  <div class="card-body">
							<div class="mb-3 d-flex justify-content-between">
							  <div>
								<span class="me-3">{{orderInfo.ordetId}}</span>
								<span class="me-3">{{orderInfo.createTime.substring(0,10)}}</span>
								
								<span  class="badge rounded-pill"  style="background-color:red;" v-if="orderInfo.orderStatus=='To Pay'">To Pay</span>
								<span class="badge rounded-pill"  style="background-color:rgb(20, 191, 225);" v-else-if="orderInfo.orderStatus=='To Ship'">To Ship</span>
								<span class="badge rounded-pill"  style="background-color:green;" v-else-if="orderInfo.orderStatus=='To Receive'">Shipping</span>
								<span class="badge rounded-pill"  style="background-color: blue;" v-else-if="orderInfo.orderStatus=='To Comment'">To Comment</span>
								<span class="badge rounded-pill"  style="background-color:grey;" v-else-if="orderInfo.orderStatus=='Canceled'">Canceled</span>
							  </div>
							
							</div>
							<table class="table table-borderless">
							  <tbody>
								<tr>
								  <td>
									<div class="d-flex mb-2">
									  <div class="flex-shrink-0">
										<img src="https://www.bootdey.com/image/280x280/87CEFA/000000" alt="" width="50" class="img-fluid">
									  </div>
									  <div class="flex-lg-grow-1 ms-3">
										<span class="small"><i class="bi bi-shop"></i> {{orderInfo.storeName}} </span><br>
										<h6 class="small mb-0"><a href="#" class="text-reset">{{orderInfo.productName}}</a></h6>
									   
									  </div>
									</div>
								  </td>
								  <td>
									<br>
								   {{orderInfo.buyCounts}}
								  </td>
								  <td class="text-end"><br>CNY {{orderInfo.productPrice}}</td>
								</tr>
							 
							  </tbody>
							  <tfoot>
								<tr>
								  <td colspan="2">Subtotal</td>
								  <td class="text-end">CNY {{orderInfo.totalAmount}}</td>
								</tr>
							   
								<!-- <tr>
								  <td colspan="2">Discount (Code: NEWYEAR)</td>
								  <td class="text-danger text-end">-$10.00</td>
								</tr> -->
								<tr class="fw-bold">
								  <td colspan="2">TOTAL</td>
								  <td class="text-end">CNY {{orderInfo.totalAmount}}</td>
								</tr>
							  </tfoot>
							</table>
						  </div>
						</div>
						<!-- Payment -->
						<div class="card mb-4">
						  <div class="card-body">
							<div class="row">
							  <div class="col-lg-6">
								<h3 class="h6">Payment Method</h3>
								<p> {{orderInfo.paymentMethod}} pay <br>
								  CNY {{orderInfo.totalAmount}} &nbsp;&nbsp; <span class="badge bg-success rounded-pill" v-if="orderInfo.orderstatus!='To Pay'">PAID</span><span class="badge bg-success rounded-pill" v-else>PAID</span></p>
							  </div>
						   
							</div>
						  </div>
						</div>
					  </div>
					  <div class="col-lg-4">
					  
						<div class="card mb-4">
						  <!-- Shipping information -->
						  <div class="card-body">
							<h3 class="h6">Shipping Information</h3>
							
							<span v-if="orderInfo.shipNumber!=null || orderInfo.shipNumber!='' "><a href="#" class="text-decoration-underline" target="_blank">{{orderInfo.shipNumber}}</a> <i class="bi bi-box-arrow-up-right"></i> </span>
							<span v-else></span>
							<hr>
							<h3 class="h6">Address</h3>
							<address>
							  <strong>{{orderInfo.receiverName}}</strong><br>
							  {{orderInfo.receiverAddress}}<br>
							 
							  <abbr title="Phone">P:</abbr> {{orderInfo.receiverMobile}}
							</address>
						  </div>
						</div>
					  </div>
					</div>
				  </div>
					</div>
			  </section><!-- End Portfolio Details Section -->
		  
				
		
		
		</main>
	</section>
	</div>
		

	<!-- CONTENT -->


	<footer id="footer">
		<div class="container">
		  <div class="copyright">
			&copy; Copyright <strong>PetCare</strong>. All Rights Reserved
		  </div>
		  <div class="credits">
			<!--
			All the links in the footer should remain intact.
			You can delete the links only if you purchased the pro version.
			Licensing information: https://bootstrapmade.com/license/
			Purchase the pro version with working PHP/AJAX contact form: https://bootstrapmade.com/buy/?theme=Reveal
		  -->
			Designed by <a href="https://bootstrapmade.com/">ZHANG XIAOMENG</a>
		  </div>
		</div>
	  </footer><!-- End Footer -->
 

	  <script src="assets/vendor/aos/aos.js"></script>
	  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
	  <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
	  <script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
	  <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
	  <script src="assets/vendor/php-email-form/validate.js"></script>
	
	<script src="assets/js/dashbord_script.js"></script>

	<script src="assets/js/main.js"></script>
	<script src="assets/js/vue.js"></script>
  	<script src="assets/js/axios.js"></script>
  	<script src="assets/js/cookie_utils.js"></script>
	<script src="assets/js/util.js"></script>

	
	<script>
		var baseUrl = "http://localhost:8080/";
		var vm = new Vue({
			el:"#ownerBlock",
			data:{
				isLogin: false,
				itemId:"",
				userId:"",
				storeId:"",
			
				token:"",
				orderInfo:{},
			
			},

			created:function(){
				this.isLogin = true;
				
				this.itemId = getUrlParam("otmid");
				
				//1. check user whether login in, if not, ask login and then after back to profile/{id} page
				this.token =getCookies("token");
				this.storeId =getCookies("storeId");
				console.log("token: ", this.token)
				if(this.token !=null  && this.token!=""){
					this.userId = getCookies("userId")
					this.isLogin = true;
				}

			
				//  // get product detail
				var Url = baseUrl+"order/detail/"+this.itemId;
				console.log("item id", this.itemId)
				axios({
					method:"get",
					url:Url,
				headers:{
					token: this.token
				},
				}).then((res)=>{ 
					this.orderInfo = res.data.data;//backend return ResultVO object
							
					console.log("get : ",this.orderInfo);
							
               
				});
			},
			methods:{
				
				logoutRequest: function(){

					deleteCookie();
					console.log("this token: ", this.token)
					window.location.href = "sign_in.html";
        		},

				
			}
		})

	</script>
</body>
</html>